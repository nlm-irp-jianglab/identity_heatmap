(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),i=a.n(l),o=a(14),c=a(1),d=a(8),s=a(45),m=a.n(s);var p=()=>{const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)({}),[i,s]=Object(n.useState)(!0),[p,u]=Object(n.useState)("Viridis"),[b,f]=Object(n.useState)(12),[g,E]=Object(n.useState)("sans-serif"),[h,v]=Object(n.useState)([]),j={top:50,right:80,bottom:50,left:100};Object(n.useEffect)(()=>{v([...e])},[e]);const x=Object(n.useCallback)(()=>"Gray"===p?c.c().domain([0,100]).range(["#333333","#ffffff"]):"Blue"===p?c.c().domain([0,100]).range(["#08306b","#deebf7"]):c.d(c.a).domain([0,100]),[p]),C=Object(n.useCallback)(()=>{if(console.log("Drawing heatmap with data:",h),c.e("#heatmap").selectAll("*").remove(),!h.length)return;const e=h[0].slice(1).map(e=>a[e]||e),t=h.slice(1).map(e=>e.slice(1)),n=c.e("#heatmap").append("svg").attr("width",500+j.left+j.right).attr("height",500+j.top+j.bottom).append("g").attr("transform","translate(".concat(j.left,", ").concat(j.top,")")),r=c.b().range([0,500]).domain(e).padding(.05),l=c.b().range([0,500]).domain(e).padding(.05),o=x();n.selectAll().data(t.flatMap((t,a)=>t.map((t,n)=>({x:e[n],y:e[a],value:+t,i:a,j:n})))).enter().filter(e=>i?e.i<=e.j:e.i>=e.j).append("rect").attr("x",e=>r(e.x)).attr("y",e=>l(e.y)).attr("width",r.bandwidth()).attr("height",l.bandwidth()).style("fill",e=>o(e.value)).style("stroke","#fff"),n.selectAll(".text").data(t.flatMap((t,a)=>t.map((t,n)=>({x:e[n],y:e[a],value:+t,i:a,j:n})))).enter().filter(e=>i?e.i<=e.j:e.i>=e.j).append("text").attr("x",e=>r(e.x)+r.bandwidth()/2).attr("y",e=>l(e.y)+l.bandwidth()/2).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("fill","black").attr("font-size","".concat(b,"px")).attr("font-family",g).text(e=>e.value.toFixed(1))},[h,a,i,x,b,g,j]);return Object(n.useEffect)(()=>{C()},[C]),r.a.createElement("div",null,r.a.createElement("h2",null,"Pairwise Identity Heatmap"),r.a.createElement(m.a,{onFileLoaded:e=>{console.log("CSV Data Loaded:",e),t(e)}}),r.a.createElement(d.a,{onDragEnd:e=>{if(!e.destination)return;const t=[...h],[a]=t.splice(e.source.index+1,1);t.splice(e.destination.index+1,0,a),v(t)}},r.a.createElement(d.c,{droppableId:"rows"},e=>r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),h.slice(1).map((e,t)=>r.a.createElement(d.b,{key:t,draggableId:"row-".concat(t),index:t},t=>r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:{padding:"5px",margin:"5px",backgroundColor:"#ddd",cursor:"grab"}}),r.a.createElement("input",{type:"text",value:a[e[0]]||e[0],onChange:t=>((e,t)=>{l(a=>Object(o.a)(Object(o.a)({},a),{},{[e]:t}))})(e[0],t.target.value)}),"(Drag to reorder)"))),e.placeholder))),r.a.createElement("button",{onClick:()=>s(!i)},"Toggle Upper/Lower Triangular View"),r.a.createElement("button",{onClick:()=>u("Gray")},"Gray"),r.a.createElement("button",{onClick:()=>u("Blue")},"Blue"),r.a.createElement("button",{onClick:()=>u("Viridis")},"Viridis"),r.a.createElement("label",null,"Font Size:",r.a.createElement("input",{type:"number",value:b,onChange:e=>f(e.target.value)})),r.a.createElement("label",null,"Font Style:",r.a.createElement("select",{value:g,onChange:e=>E(e.target.value)},r.a.createElement("option",{value:"sans-serif"},"Sans-serif"),r.a.createElement("option",{value:"serif"},"Serif"),r.a.createElement("option",{value:"monospace"},"Monospace"))),r.a.createElement("button",{onClick:()=>(e=>{const t=h[0].indexOf(e);if(-1===t)return;const a=h.map(e=>e.filter((e,a)=>a!==t)).filter((e,a)=>a!==t);v(a)})("Some_Column")},"Delete Column"),r.a.createElement("div",{id:"heatmap"}))};var u=function(){return r.a.createElement(p,{matrixData:(e="\n    ,ABV59991.1,GCA_900167205.1_00702,GCA_005121165.3_00523,GCA_900167205.1_00778\n    ABV59991.1,100.0,14.0,17.8,15.1\n    GCA_900167205.1_00702,14.0,100.0,39.5,10.7\n    GCA_005121165.3_00523,17.8,39.5,100.0,9.6\n    GCA_900167205.1_00778,15.1,10.7,9.6,100.0\n  ",e.trim().split("\n").map(e=>e.split(",").map(e=>e.trim())))});var e};a(104);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u,null)),document.getElementById("root"))},91:function(e,t,a){e.exports=a(105)}},[[91,1,2]]]);
//# sourceMappingURL=main.3f2a6e2c.chunk.js.map